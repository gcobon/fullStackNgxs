<ng-container *ngIf="todos$ |async as todos; else loading">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Actions</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let todo of todos; trackBy: trackByFunction">
        <td [ngClass]="{'is-completed': todo.completed}">
            {{todo.name}}
        <td>
          <button
            class="btn btn-outline-primary mr-2"
            [disabled]="todo.completed"
            (click)="onEdit(todo)">Edit</button>
          <button
            class="btn btn-outline-danger"
            (click)="onDelete(todo._id)">Delete</button>
        </td>
        <td>
          <div>
            <input type="checkbox" [disabled]="todo.completed" (click)="onCompleted(todo)">
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</ng-container>

<ng-template #loading>
  <div>
    loading...
  </div>
</ng-template>

